{% extends 'accueil.html.twig' %}

{% block title %}Utilisateurs{% endblock %}
{% block h1 %}<h1 class="h3 mb-0 text-gray-800">Utilisateurs</h1>{% endblock %}
{% block body %}
<div class="row">
     <div class="container col-md-8">
      <div class="card">
         <div class="card-header">Liste des utilisateurs</div>
        <div class="card-body">
       <table class="table table-striped table-bordered">
          <tr>
            <th>Id</th>
            <th>Nom</th>
            <th>Prenom</th>
            <th>Email</th>
            <th>Role</th>
          </tr>
          {% for u in users %}
             <tr>
                <td>{{ u.id }}</td>
                <td>{{ u.nom }}</td>
                <td>{{ u.prenom }}</td>
                <td>{{ u.email }}</td>
                <td>
                {% for r in u.roles %} 
                {{ r }}
                {% endfor %}
                </td>
             </tr>
          {% endfor %}
       </table>
      </div>
   </div>   
     </div>
     <div class="container col-md-4">
      <div class="card">
      {% for message in app.flashes('success') %}
          <div class="card-header alert alert-success">
           {{ message }}
             </div>
           {% endfor %}
         <div class="card-header">Formulaire de gestion des utilisateurs</div>
        <div class="card-body">
       {{ form(form)}}
      </div>
   </div>  
   </div> 
   </div>
{% endblock %}
